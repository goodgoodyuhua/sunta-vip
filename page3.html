<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>客製化行程 - 排行程</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <script src="js/config.js"></script>
  <div class="app">
    <header style="position:relative;">
      <h1>客製化行程預約</h1>
      <p>Step 3／3：拖拉排好你的行程，填寫聯絡資料後送出。</p>

      <div id="loginStatus" style="
        position:absolute; 
        top:16px; 
        right:16px; 
        font-size:14px;">
      </div>
    </header>

    <section class="page active">
      <div class="card">
        <div class="card-title">
          <span>Step 3：確認行程 & 填寫聯絡資料</span>
        </div>

        <div class="layout-3col" style="display:flex; gap:16px; align-items:flex-start;">

          <!-- 左邊：行事曆 -->
          <div class="calendar-wrapper" style="flex:2; overflow-x:auto;">
            <div id="calendarDays" class="calendar-days" 
                 style="display:flex; gap:12px; min-height:400px;">
              <!-- JS 產生 Day1 / Day2 / ... -->
            </div>
          </div>

          <!-- 右邊：總價 & 聯絡表單 -->
          <div class="sidebar" style="flex:1; display:flex; flex-direction:column; gap:16px;">

            <!-- 總報價 -->
            <div class="card summary-card">
              <div class="card-title">預估總報價</div>
              <div class="card-body">
                <p>本次行程預估總價為：</p>
                <p style="font-size:24px; font-weight:bold; margin-top:8px;">
                  NT$ <span id="totalPrice">0</span>
                </p>
                <p style="font-size:12px; color:#666; margin-top:4px;">
                  實際價格仍以客服人員與您確認為準。
                </p>
              </div>
            </div>

            <!-- 聯絡人資料表單 -->
            <div class="card">
              <div class="card-title">聯絡人資料</div>
              <div class="card-body">
                <form id="bookingForm" style="display:flex; flex-direction:column; gap:8px;">
                  <label>
                    姓名（必填）
                    <input type="text" name="name" required />
                  </label>

                  <label>
                    聯絡電話（必填）
                    <input type="tel" name="phone" required />
                  </label>

                  <label>
                    Email
                    <input type="email" name="email" />
                  </label>

                  <label>
                    Line ID
                    <input type="text" name="lineId" />
                  </label>

                  <label>
                    特別需求或備註
                    <textarea name="note" rows="3" placeholder="例如：是否需要素食、是否有小朋友或長輩同行…"></textarea>
                  </label>

                  <button type="submit" class="primary-btn" style="margin-top:8px;">
                    送出行程需求
                  </button>
                </form>
              </div>
            </div>

          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- 共用的 JS 如果你有 (顯示登入狀態之類的) -->
  <script src="js/common.js"></script>
  <!-- 這一頁專用 JS -->
  <script src="js/page3.js"></script>
</body>
</html>
